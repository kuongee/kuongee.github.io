# 2021-08-30 카카오 FE 준비

## **자기소개**

서비스를 사용할 누군가, 협업을 중요하게 생각, 다양한 경험을 통해서 성장하고 있다고 생각

## **\[GOV\] Storybook**

스토리북: 메인 프로젝트 앱과 독립적으로 띄우고 UI 컴포넌트를 독립적으로 개발하고 보여줄 수 있도록 도와준다.

왜 사용했나

* 이전 프로젝트에서도 storybook을 사용하고 있었다. 그 때 동료들과 컴포넌트를 공유할 때도 기능이나 props 등을 확인하는데 유용하게 사용했고 퍼블리셔 분들께서 스타일이나 컴포넌트를 만져주실 때도 유용하게 사용했다. 그래서 당연히 이번 프로젝트에도 사용할 것이라고 생각했고 직접 프로젝트 초기에 스토리북을 직접 적용해보았다. 이번에는 storybook webpack 설정도 직접 해보았다.

그 때 어려운 점은 없었나?

* webpack 설정할 때 좀 헤매기는 했다. 웹팩 설정하는 거를 공부해보겠다고 vue-cli-plugin으로 하지 않고 직접 스토리북 웹팩을 설정해보려고 했다. 그리고 어려운 점이라기보다는 고민했던 점이 있었는데 story 작성 코드를 앱 소스코드 디렉토리와 같이 가져갈지 또는 아예 따로 디렉토리로 빼낼지에 대한 고민이 있었는데 결론은 따로 빼냈다. 소스코드랑 섞여서 복잡하지 않도록 하기 위해서

```javascript
// css, scss 로더도 하나씩 넣어주었다. 근데 결국 뭔가 잘 안 돼서 새로운 마음으로
// vue-cli-plugin-storybook으로 해주었었다.
rules: [
      {
        test: /\.(scss|css)$/,
        use: [
          'vue-style-loader',
          'css-loader',
          {
            loader: 'sass-loader',
            options: {
              additionalData: `@import "assets/scss/mixin/_mixin.scss";`,
            },
          },
        ],
        include: path.join(SRC_DIR, 'assets'),
      },
```

## \[CMP\] 클라우드 플랫폼 프로젝트

이 프로젝트는 예를 들면 AWS와 같은 클라우드 서비스/상품을 제공하기 위한 플랫폼을 만드는 프로젝트이다. 기존 사이트를 새로 만드는 목표가 있기는 했지만 한번에 바꾸지 않고 과도기로 기존 서비스도 일부 같이 가져가야 했다. 이때 새로운 Vue project를 만들면서 생겼던 일과 합치는 과정에서 생겼던 일을 소개하려고 한다. 

새로운 프로젝트에서 모듈별로 나눠져서 개발을 하려고 하다보니 중복으로 사용되는 라이브러리들이 있었다. 그래서 이런 라이브러리들 중 공통으로 사용할 수 있게 만들었는데 webpack을 이용해서 라이브러리 형태로 만들었고 라이브러리에서 export해놓고 가져다가 쓰게 하기도 했고  몇가지 기능들은 vue plugin 형태로도 vue project에 추가하여 전역적으로 사용할 수 있게 했다.

* vueRouter, commonAxios, eventBus

```javascript
Vue.use(portalLib, {/* config */});
// 또는
import { vueRouter } from './cmp-portal-library';
```

그리고 코드를 일관성있게 작성할 수 있게 eslint,prettier를 적용했고 ES6 이상의 자바스크립트를 사용할 수 있게 바벨도 추가했습니다.

기존 프로젝트를 합칠 때 화면의 로드 시점을 제어하기 위해 Vuex로 해결  
-&gt; 기존 프로젝트에서는 약속된 id로 메인 뷰를 올리면 그 메인 뷰에 navigate라는 내부 함수로 화면에 해당하는 element와 js를 로드하는 것이다. 이건 새로운 vue 프로젝트가 올라오는 시점이 다르고 vue는 다 올라온 거 같은데 기존 프로젝트는 아직 올라오지 않은 상황이 발생하기도 했다. 그래서 그 시점이 언제인지 알 수 있을지 제어해줄 수 있을지 파악했다.  
-&gt; 기존 프로젝트의 메인 뷰가 올라오기 전에 기존 프로젝트에서 navigate 에러가 발생한다.   
새로운 프로젝트에서 기존 프로젝트의 navigate 함수를 호출하는데 아직 올라오지도 않은 뷰에 접근하려고 하니까 에러가 발생한다.  
그런데 우리는 새로운 프로젝트에서 이 함수를 호출하려고 한다. 함수가 호출되었을 때 뷰가 올라가있는지 아닌지를 판단하고 없다면 잠깐 기다리게 하려고 했다.

그래서 처음에는 setTimeout을 쓰려고 했었는데 시간이 얼마나 걸릴지도 모르고 정확하지 않아서 다시 생각해보았다.

알고 보니까 기존 프로젝트의 main view가 전부 로드가 되면 발생하는 이벤트가 있었다. 이 이벤트를 받을 때까지만 기다리면 되는 것이었다. 상태 변화에 subscribe 해놓고 값이 변하고 난 후에 안전하게 navigate 함수를 불러줄 수 있도록 했다.

```javascript
// 그래서 현재 메인 뷰가 올라왔는지 아닌지 상태를 저장하고 싶은데 
// 글로벌하게 관리할 수 있도록 vuex를 생각했다.

store.commit(MUTATION_TYPE.MIDDLEVIEW_LOADED, { active: false });
// --> 로드 이벤트 받으면 active true로 전환
store.commit(MUTATION_TYPE.MIDDLEVIEW_LOADED, { active: true });

// 그리고 알고 보니까 스토어에도 subscribe를 해둘 수가 있었다.
// navigation 함수가 먼저 불리게 되면 subscribe로 걸어둔다.
// 그리고 상태값이 변하게 되면 subscribe 해두었던 이벤트를 부르게 되고 
// 실제 함수를 호출
if (store.getters.isMiddleViewLoaded) {
    AP.navigationService.navigate({ route: url, isReplace: true});
} else {
    const unsubscribe = store.subscribe((mutation, state) => {
        if(mutation.type !== MUTATION_TYPE.MIDDLEVIEW_LOADED) {
            return;
        }
        if (state.middleViewLoaded) {
            // navigate!
            unsubscribe();
        }
    });
}

```

[https://vuex.vuejs.org/kr/](https://vuex.vuejs.org/kr/)

### 웹팩

 웹팩이란 최신 프런트엔드 프레임워크에서 가장 많이 사용되는 [모듈 번들러\(Module Bundler\)](https://joshua1988.github.io/webpack-guide/webpack/what-is-webpack.html)입니다. 모듈 번들러란 웹 애플리케이션을 구성하는 자원\(HTML, CSS, Javscript, Images 등\)을 모두 각각의 모듈로 보고 이를 조합해서 병합된 하나의 결과물을 만드는 도구를 의미합니다.

* 모듈: 구현 세부 사항을 캡슐화하고 공개 API를 노출해 다른 코드에서 쉽게 로드하고 사용할 수 있는 재사용 가능한 코드 조각
* 다른 언어들과 달리 JavaScript는 외부 스크립트 파일은 가져올 수 있지만 파일마다 독립적인 파일 scope를 가지고 있지 않아서 하나의 전역 객체로 취급되어 전역변수가 중복되는 문제 등이 생길 수 있음
* 모듈화를 구현할 수 없는 경우, 브라우저에서 모듈을 사용할 수 있도록 하는 모듈 시스템\(모듈 로더 라이브러리\) 사용하기도 함
* 그래서
  * 웹앱에는 JavaScript 파일들과 dependencies가 많이 있다.
  * 그래서 단순히 &lt;script&gt; 태그로 일일이 import 하는데에는 한계가 있다. 그리고 HTTP 왕복 통신도 많이 필요하다.

{% embed url="https://joshua1988.github.io/webpack-guide/motivation/why-webpack.html\#%EC%9B%B9%ED%8C%A9%EC%9D%98-%EB%93%B1%EC%9E%A5-%EB%B0%B0%EA%B2%BD" %}

### ESLint & 바벨

ESLint : 코드를 분석해 문법적인 오류나 안티 패턴을 찾아주고 일관된 코드 스타일로 작성하도록 도와줍니다.

바벨 : 트랜스파일러 / 브라우저가 이해할 수 있는 JS로 변환

### Vue

Vue Mixin

Mixins는 Vue 컴포넌트에 재사용 가능한 기능을 배포하는 유연한 방법입니다. mixin 객체는 모든 구성 요소 옵션을 포함할 수 있습니다. 컴포넌트에 mixin을 사용하면 해당 mixin의 모든 옵션이 컴포넌트의 고유 옵션에 “혼합”됩니다.

mixin과 컴포넌트 자체에 중첩 옵션이 포함되어 있으면 적절한 전략을 사용하여 “병합”됩니다.

예를 들어 data 오브젝트의 내용이 상충하는 경우, 컴포넌트에 선언된 data 오브젝트를 우선으로 하여 재귀적으로 병합됩니다.

제가 ListMixin이라는 거를 만들었는데 목록과 관련된 methods, data를 모아놓았습니다. 예를 들면 정렬 버튼 눌렀을 때, page 개수, 다음 페이지 목록 번호 눌렀을 때, 서치 버튼을 눌렀을 때의 동작 등 공통적으로 사용하는 기능들

## \[SGP\]

기존 안드로이드 앱에 올라가있던 웹뷰 코드들\(HTML,CSS,JS\)을 iOS앱에 그대로 올리는 것부터

어떤 트러블슈팅

* 웹뷰 JS 코드에서 어떤 이벤트를 받아서 실제 네트워크나 모바일 폰의 기능을 써야할 때 필요한 연결 모듈을 개발
* 인풋 포커스 되었을 때 키보드 올리기 \(autofocus\)
  * ios에서 프로그래밍으로 키보드 자동 올리는게 막혀있었는지 그거를 풀어주는 코드를 추가했었다.
* **Safe Area 문제점** iOS의 경우 노치, navigation bar 높이 만큼 화면 내에 padding을 주어야 했다.

## \[FLCM\]

리액트 사용했었음

## \[UI Platform 최적화\]

jQWidget 기반으로 만들어진 위젯인데 위젯들을 하나의 빌드 파일로 만들어서 제공하고 있다. 이 때 고객이 선택한 위젯들만 포함하는 빌드 파일을 만들기 위해 빌드 스크립트\(grunt\)에 들어갈 스크립트 일부를 짰었다.

* HTML, CSS, JS 압축
* 이미지 압축
* CSS 전처리기 변환

이러한 일들을 자동화 해주는 도구들이 필요했습니다. 그래서 Grunt와 Gulp 같은 도구들이 등장했습니다.

## \[스터디\]

### 무슨 코드리뷰 받았는지

```javascript
1. TodoApp.js의 역할 나누기

TodoApp.js의 경우에는 컴포넌트를 통틀어 전체 상태가 관리되는 컴포넌트일텐데요. 전체 상태를 관리하는 로직 외에도 api 통신이 구현되어있던데 각 api 통신은 해당 컴포넌트안에서 구현되는게 맞는게 아닐까라는 생각이 들어요~

예를들면 TodoApp.js에 이렇게 구현되어 있고

const todoInput = new TodoInput({ 
	$target: document.querySelector('#todo-input'), 
	onAdd: (newTodoItem) => {
	  const nextData = [...this.data, newTodoItem] 
	  this.setState(nextData)
	}
})

TodoInput.js에 아래와 같이 구현하는 것이죠!

$target.addEventListener('keydown', (e) => {
    try {
      const todoItem = await api.addNewTodoItem(this.USER_NAME, content)
      onAdd(todoItem)
    } catch (e) {
      console.error(e);
    }
	})
})

2. 중복되는 로직의 재사용과 상수의 활용

e.key === 'Enter'와 같이 중복되는 로직 같은 경우에는 validator.js와 같은 파일을 만들어 재사용할 수 있는 로직으로 만들면 어떨까요? 그러면 코드도 훨씬 더 깔끔해지고, 다른 팀원과 협업하는 경우에도 같은 방식으로 로직을 검증할 수 있어 좋을 것 같아요!

2주차 미션 진행하느라 너무 고생하셨구요!!! 앞으로 🌟 더 빛나는🌟 성장 같이해요!

if (this.isEditing === -1) {
  return
}
if (e.key === 'Escape') {
  handleFinishEdit();
  return;
}
if (e.key === 'Enter') {
  handleFinishEdit(e.target.value);
  return;
}
```

## 일반적인 질문

### 충돌이 있을 때 어떻게 하는지

저는 

### 요즘은 무슨 공부를 하고 있는지

한 교육기관에서 하는 스터디를 지난주까지 참여했었음

한주에 하나씩 과제가 주어지고 과제 풀고 올리면 같이 코드리뷰하고 공부하는 스터디였음

뭐 배웠는지

반응형 웹 만들기

```javascript
@media (min-width: 350px)
```

semantic html 사용하기

#### 시맨틱한\(semantic\) HTML을 짜야하는 이유

시맨틱한 HTML을 알기 위해선 뜬금없을 수도 있지만 검색 엔진의 웹사이트 정보 수집 방법에 대해 알아야합니다. 구글이나 네이버가 사용하는 검색엔진은 봇을 이용하여 전세계에 있는 [웹사이트의 정보를 수집](https://ko.wikipedia.org/wiki/%EC%9B%B9_%ED%81%AC%EB%A1%A4%EB%9F%AC)합니다. 이 과정에서 사용자가 검색할 만한 키워드를 미리 예상하여 해당 웹사이트의 키워드에 대응하는 인덱스를 만들게 됩니다.

이러한 인덱스를 생성할 때 사용되는 정보는 당연히 웹사이트의 HTML 코드이겠죠, 그리고 그 과정에서 Semantic Elements를 해석하게 됩니다. 만약 Semantic Element가 없다면 HTML 코드에서 어떤 것이 중요하고 어떤 것이 중요하지 않은 지 확인할 수 없게 됩니다. 이는 해당 웹사이트의 인덱싱을 어렵게 만드는 안 좋은 결과를 초래할 수 있습니다.  
  
출처: [https://geonlee.tistory.com/96](https://geonlee.tistory.com/96) \[빠리의 택시 운전사\]

&lt;main&gt; &lt;footer&gt; 이런식으로 나눠보도록 노력

&lt;aside&gt; 필터가 있었는데 이때는 aside라는 거를 써보도록 했고 

아이템 리스트에서 아이템을 그리기 위해서 &lt;section&gt;



### 여기에 지원한 이유

모바일을 넘어서 웹에서도 사용할 수 있게 확장시켜볼 수 있다고 생각했다. 모바일에서의 사용경험을 웹으로 옮기면서 경험해볼 수 있는 일들이 기대가 되기도 했다.

### 내가 궁금한점 







